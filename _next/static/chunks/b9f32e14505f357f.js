(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,31713,e=>{"use strict";var t=e.i(43476),a=e.i(71645),l=e.i(33345),r=e.i(88169),s=e.i(12983);function n(){let[e,n]=(0,a.useState)(""),[c,i]=(0,a.useState)(""),[d,o]=(0,a.useState)(""),[x,u]=(0,a.useState)([]),[f,h]=(0,a.useState)(""),[g,m]=(0,a.useState)(0),[p,k]=(0,a.useState)(!1),b=(0,a.useCallback)(e=>{for(let[t,a]of Object.entries(l.default.code))if(a.split(" ").includes(e))return t;return null},[]),y=(0,a.useCallback)(()=>{let e=s.default.words,t=e[Math.floor(Math.random()*e.length)];h(t),m(0);let a=t[0],l=b(a);l?(n(a),i(l),o(""),u(Array(l.length).fill("default"))):y()},[b]),j=(0,a.useCallback)(()=>{if(g<f.length-1){let e=g+1,t=f[e],a=b(t);a?(m(e),n(t),i(a),o(""),u(Array(a.length).fill("default"))):y()}else y()},[g,f,b,y]);(0,a.useEffect)(()=>{y()},[y]);let w=(0,a.useCallback)(e=>{let t=e.key.toLowerCase();if("enter"===t)return void y();if("backspace"===t){if(d.length>0){let e=d.slice(0,-1),t=[...x];t[d.length-1]="default",o(e),u(t)}return}if(1===t.length&&/[a-z]/.test(t)){if(x.includes("wrong"))return;let e=d.length;if(e<c.length){let a=t===c[e],l=d+t,r=[...x];r[e]=a?"correct":"wrong",o(l),u(r),a||(k(!0),setTimeout(()=>k(!1),150)),l.length===c.length&&r.every(e=>"correct"===e)&&setTimeout(()=>{j()},500)}}},[d,c,x,j]);return(0,a.useEffect)(()=>(window.addEventListener("keydown",w),()=>window.removeEventListener("keydown",w)),[w]),(0,t.jsx)("div",{className:"flex min-h-screen items-center justify-center bg-zinc-50 font-sans dark:bg-zinc-900",children:(0,t.jsxs)("main",{className:"flex flex-col items-center justify-center gap-12 px-8",children:[(0,t.jsx)("h1",{className:"text-4xl font-bold text-black dark:text-white",children:"Cangjie Practice"}),(0,t.jsxs)("div",{className:"flex flex-col items-center gap-8",children:[f&&(0,t.jsx)("div",{className:"text-3xl text-gray-600 dark:text-gray-400 flex gap-1",children:f.split("").map((e,a)=>(0,t.jsx)("span",{className:a===g?"font-bold text-blue-500 dark:text-blue-400":"",children:e},a))}),(0,t.jsx)("div",{className:"text-9xl font-bold text-black dark:text-white",children:e}),(0,t.jsx)("div",{className:`flex gap-2 text-6xl font-mono transition-transform ${p?"animate-shake":""}`,children:c.split("").map((e,a)=>{let l="text-gray-400 dark:text-gray-600";"correct"===x[a]?l="text-green-500 dark:text-white":"wrong"===x[a]&&(l="text-red-500 dark:text-red-500");let s=r.default.mapping[e]||e;return(0,t.jsx)("span",{className:l,children:s},a)})}),(0,t.jsxs)("div",{className:"text-center text-gray-600 dark:text-gray-400",children:[(0,t.jsx)("p",{className:"text-lg",children:"Type the code to match the character"}),(0,t.jsxs)("p",{className:"text-sm mt-2",children:["Press"," ",(0,t.jsx)("kbd",{className:"px-2 py-1 bg-gray-200 dark:bg-gray-700 rounded",children:"Enter"})," ","for a new character"]})]})]})]})})}e.s(["default",()=>n])}]);